<Project> 

	<!-- Load our custom NuGet pack targets, which contain some fixes around PRI files
		 There is no safety check, since, we want the Pack to fail if nuget fails to restore it. -->
	<Import Project="$(NuGetPackageRoot)NuGet.Build.Tasks.Pack\4.3.0\build\NuGet.Build.Tasks.Pack.targets" />

	<!-- Work around bug in Microsoft.NET.Sdk < v2.0 where satellites were deployed on top of each other in root. -->
	<!-- https://github.com/dotnet/sdk/issues/1360 -->
	<Target Name="WorkaroundIncorrectSatelliteDeployment" AfterTargets="ResolveLockFileCopyLocalProjectDeps">
		<ItemGroup>
			<ReferenceCopyLocalPaths Remove="@(ResourceCopyLocalItems)" />
			<ReferenceCopyLocalPaths Include="@(ResourceCopyLocalItems)" Condition="'@(ResourceCopyLocalItems)' != ''">
				<DestinationSubDirectory>$([System.IO.Directory]::GetParent(%(ResourceCopyLocalItems.FullPath)).Name)\</DestinationSubDirectory>
			</ReferenceCopyLocalPaths>
		</ItemGroup>
	</Target>

</Project>