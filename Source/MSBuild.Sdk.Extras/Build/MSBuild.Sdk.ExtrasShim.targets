<Project InitialTargets="_WarnWhenUsingObsoleteProperties" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <EmbeddedResourceGeneratedCodeIsPublic Condition="'$(EmbeddedResourceGeneratorVisibilityIsInternal)' == 'true'">false</EmbeddedResourceGeneratedCodeIsPublic>
    <EmbeddedResourceGeneratedCodeIsPublic Condition="'$(EmbeddedResourceGeneratorVisibilityIsInternal)' == 'false'">true</EmbeddedResourceGeneratedCodeIsPublic>
  </PropertyGroup>

  <PropertyGroup>
    <IgnoreOldSdkWarning>$(SuppressWarnIfOldSdkPack)</IgnoreOldSdkWarning>
    <SkipWindowsLibraryLayout>$(ExtrasSkipLibraryLayout)</SkipWindowsLibraryLayout>
    <IncludeAndroidResgenFile>$(_SdkSetAndroidResgenFile)</IncludeAndroidResgenFile>
  </PropertyGroup>

  <PropertyGroup>
    <_ImplicitPlatformPackageVersion Condition="$(TargetFramework.StartsWith('uap'))">$(ExtrasUwpMetaPackageVersion)</_ImplicitPlatformPackageVersion>
    <DisableImplicitFrameworkReferences Condition="$(TargetFramework.StartsWith('uap')) OR $(TargetFramework.StartsWith('tizen'))">$(ExtrasImplicitPlatformPackageDisabled)</DisableImplicitFrameworkReferences>
  </PropertyGroup>

  <ItemGroup Condition="'$(ExtrasImplicitPlatformPackageIsPrivate)' != 'true'">
    <PackageReference Update="Microsoft.NETCore.UniversalWindowsPlatform" KeepMetadata="false" Condition="$(TargetFramework.StartsWith('uap'))"/>
    <PackageReference Update="Tizen.NET" KeepMetadata="false" Condition="$(TargetFramework.StartsWith('tizen'))"/>
  </ItemGroup>

  <Target
    Name="_WarnWhenUsingObsoleteProperties"
    BeforeTargets="_CheckForInvalidConfigurationAndPlatform"
    Condition="'$(_IgnoreObsoletePropertyWarnings)' != 'true'">

  <ItemGroup>
    <_SdkObsoleteProperty Include="ExtrasSkipLibraryLayout" Replacement="SkipWindowsLibraryLayout" Condition="'$(ExtrasSkipLibraryLayout)' != ''"/>
    <_SdkObsoleteProperty Include="_SdkSetAndroidResgenFile" Replacement="IncludeAndroidResgenFile" Condition="'$(_SdkSetAndroidResgenFile)' != ''"/>
    <_SdkObsoleteProperty Include="SuppressWarnIfOldSdkPack" Replacement="IgnoreOldSdkWarning" Condition="'$(SuppressWarnIfOldSdkPack)' != ''"/>
    <_SdkObsoleteProperty Include="ExtrasUwpMetaPackageVersion" Replacement="_ImplicitPlatformPackageVersion (with TargetFramework condition)" Condition="'$(ExtrasUwpMetaPackageVersion)' != ''"/>
    <_SdkObsoleteProperty Include="ExtrasImplicitPlatformPackageDisabled" Replacement="DisableImplicitFrameworkReferences (with TargetFramework condition)" Condition="'$(ExtrasImplicitPlatformPackageDisabled)' != ''"/>
    <_SdkObsoleteProperty Include="ExtrasImplicitPlatformPackageIsPrivate" Condition="'$(ExtrasImplicitPlatformPackageIsPrivate)' != ''"/>
    <_SdkObsoleteProperty Include="EmbeddedResourceGeneratorVisibilityIsInternal" Replacement="EmbeddedResourceGeneratedCodeIsPublic" Condition="'$(EmbeddedResourceGeneratorVisibilityIsInternal)' != ''"/>
  </ItemGroup>

    <Warning Text="The following properties are obsolete and will be removed from the next major version of the SDK. Please use the suggested replacements. Go here: https://tinyurl.com/sdk-extras-docs to learn more."
            Condition="@(_SdkObsoleteProperty) != ''"/>

    <Warning Text="The property '%(_SdkObsoleteProperty.Identity)' is obsolete, use '%(_SdkObsoleteProperty.Replacement)' instead!"
            Condition="'%(_SdkObsoleteProperty.Replacement)' != ''"/>

    <Warning Text="The property '%(_SdkObsoleteProperty.Identity)' is now implicitly applied. You can remove the property, as it's no longer needed!"
            Condition="'%(_SdkObsoleteProperty.Replacement)' == ''"/>
  </Target>

</Project>